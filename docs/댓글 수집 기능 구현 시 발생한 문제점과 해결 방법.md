[이전 내용 유지...]

## 10. 네이버 뉴스 필터링 문제

### 문제 상황
```
WARNING - Missing or invalid field: articles
WARNING - Invalid metadata message structure
```

### 원인
1. 네이버 뉴스가 아닌 URL에 대해서도 댓글 수집 시도
2. 메타데이터 저장 시 이미 is_naver_news 필드로 구분하고 있음에도 URL 기반으로 체크

### 해결 방법
1. 기사 조회 시 is_naver_news 조건 추가:
```python
# consumer.py
query = select(Article).where(
    (Article.naver_link == article_url) &
    (Article.is_naver_news == True)  # 네이버 뉴스인지 확인
)
```

2. 로깅 개선:
```python
if not article:
    logger.warning(f"Article not found or not a Naver news: {article_url}")
    return True
```

### 교훈
- 데이터 모델의 기존 필드를 최대한 활용
- URL 패턴 체크보다 데이터베이스 필드 활용이 더 안정적
- 명확한 로그 메시지로 문제 원인 파악 용이

이러한 내용을 프로젝트 문서화에 포함하여 다른 개발자들이 참고할 수 있도록 하는 것이 좋습니다.
